#!/bin/bash

if [ -z "$1" ]
then
  echo "Usage: golo <some golo module with a main function>"
  echo "(e.g., golo my.Module)"
  exit 1
fi

BIN_DIR=`dirname $0`
GOLO_DIR=`cd ${BIN_DIR}/..; pwd`

if [ -z ${GOLO_CLASSPATH} ]
then
  GOLO_CLASSPATH='.'
else
  GOLO_CLASSPATH='.':${GOLO_CLASSPATH}
fi

for jar in ${GOLO_DIR}/lib/*.jar
do
  GOLO_CLASSPATH=${GOLO_CLASSPATH}:${jar}
done

java ${JVM_FLAGS} -server -XX:-TieredCompilation -classpath ${GOLO_CLASSPATH} fr.insalyon.citi.golo.cli.MainGolo $@

